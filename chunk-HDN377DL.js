import{a as G,b as E,c as H,d as Q,f as U,g as L}from"./chunk-L2OJII6W.js";import{b as q,c as z,d as J,e as K,f as X,g as Y,h as Z,i as $,j as ee,k as te,l as ne,m as ie,n as ae}from"./chunk-XRDREU5A.js";import{$ as y,A as h,E as A,H as c,J as N,K as w,L as v,M as x,N as i,O as a,P as d,Q as S,R as g,S as _,T as R,U as D,W as l,X as V,Y as I,_ as P,aa as M,ca as W,ja as B,ka as j,l as m,o as f,p as b,pa as T,ra as k,s as u,w as s}from"./chunk-KGPZSK6B.js";var pe=["*"],le=o=>({active:o}),F=class o{chevronRight=E;disabled=u(!1);isActive=u(!1);static \u0275fac=function(n){return new(n||o)};static \u0275cmp=h({type:o,selectors:[["app-icon-button"]],inputs:{disabled:[1,"disabled"],isActive:[1,"isActive"]},ngContentSelectors:pe,decls:2,vars:4,consts:[[3,"disabled","ngClass"]],template:function(n,e){n&1&&(R(),i(0,"button",0),D(1,0,["#icon",""]),a()),n&2&&c("disabled",e.disabled())("ngClass",W(2,le,e.isActive()))},dependencies:[L,j,B],styles:["button[_ngcontent-%COMP%]{width:38px;height:38px;outline:nones;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--text-title);background-color:var(--shape);border:1px solid var(--border);-webkit-box-shadow:0px 6px 20px 0px rgba(37,37,41,.4);-moz-box-shadow:0px 6px 20px 0px rgba(37,37,41,.4);box-shadow:0 6px 20px #25252966;transition:all .7s}button[_ngcontent-%COMP%]:focus{outline:1px solid var(--red)}button[_ngcontent-%COMP%]:hover{filter:brightness(.7)}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;filter:brightness(.6)}button.active[_ngcontent-%COMP%]{background-color:var(--background);color:var(--text-title);filter:brightness(.7);cursor:auto}"]})};function ce(o,t){if(o&1){let n=S();i(0,"app-icon-button",5),g("click",function(){f(n);let r=_();return b(r.goToPreviousRange())}),l(1," ... "),a()}}function ge(o,t){if(o&1){let n=S();i(0,"app-icon-button",6),g("click",function(){f(n);let r=_();return b(r.goToPreviousPage())})("click",function(){let r=f(n).$implicit,p=_();return b(p.goToPage(r))}),l(1),a()}if(o&2){let n=t.$implicit,e=_();c("isActive",n===e.page),s(),I(" ",n," ")}}function de(o,t){if(o&1){let n=S();i(0,"app-icon-button",5),g("click",function(){f(n);let r=_();return b(r.goToNextRange())}),l(1," ... "),a()}}var O=class o{chevronRight=E;chevronsRight=Q;chevronLeft=G;chevronsLeft=H;navigateTo=u.required();totalPages=u.required();page=1;search="";status="";gender="";selectedSpecies="";route=m(T);router=m(k);ngOnInit(){this.route.queryParamMap.subscribe(t=>{this.page=Number(t.get("page")??"1"),this.search=t.get("search")??"",this.status=t.get("status")??"",this.gender=t.get("gender")??"",this.selectedSpecies=t.get("species")??""})}goToPage(t){t>=1&&t<=this.totalPages()&&(this.page=t,this.router.navigate([this.navigateTo()],{queryParams:{search:this.search,page:this.page,status:this.status,gender:this.gender,species:this.selectedSpecies}}))}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages())}goToNextPage(){this.goToPage(this.page+1)}goToPreviousPage(){this.goToPage(this.page-1)}goToNextRange(){let n=Math.min(this.page+4,this.totalPages());this.goToPage(n)}goToPreviousRange(){let n=Math.max(this.page-4,1);this.goToPage(n)}getDisplayedPages(){let t=this.totalPages(),n=4,e=[],r=Math.max(1,this.page-Math.floor(n/2)),p=Math.min(t,r+n-1);for(let C=r;C<=p;C++)e.push(C);return e}showLeftEllipsis(){return this.page>4}showRightEllipsis(){return this.page+4-1<this.totalPages()}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=h({type:o,selectors:[["app-pagination"]],inputs:{navigateTo:[1,"navigateTo"],totalPages:[1,"totalPages"]},decls:13,vars:10,consts:[[1,"container"],[3,"click","disabled"],[3,"name"],[1,"ellipsis"],[3,"isActive"],[1,"ellipsis",3,"click"],[3,"click","isActive"]],template:function(n,e){n&1&&(i(0,"div",0)(1,"app-icon-button",1),g("click",function(){return e.goToFirstPage()}),d(2,"lucide-icon",2),a(),i(3,"app-icon-button",1),g("click",function(){return e.goToPreviousPage()}),d(4,"lucide-icon",2),a(),A(5,ce,2,0,"app-icon-button",3),v(6,ge,2,2,"app-icon-button",4,w),A(8,de,2,0,"app-icon-button",3),i(9,"app-icon-button",1),g("click",function(){return e.goToNextPage()}),d(10,"lucide-icon",2),a(),i(11,"app-icon-button",1),g("click",function(){return e.goToLastPage()}),d(12,"lucide-icon",2),a()()),n&2&&(s(),c("disabled",e.page===1),s(),c("name",e.chevronsLeft),s(),c("disabled",e.page===1),s(),c("name",e.chevronLeft),s(),N(e.showLeftEllipsis()?5:-1),s(),x(e.getDisplayedPages()),s(2),N(e.showRightEllipsis()?8:-1),s(),c("disabled",e.page===e.totalPages()),s(),c("name",e.chevronRight),s(),c("disabled",e.page===e.totalPages()),s(),c("name",e.chevronsRight))},dependencies:[F,L,U],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:16px 32px}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}}"]})};var me=(o,t)=>t.id;function ue(o,t){if(o&1&&(i(0,"option",15),l(1),a()),o&2){let n=t.$implicit;c("value",n),s(),V(n)}}function he(o,t){if(o&1&&d(0,"app-cards",18),o&2){let n=t.$implicit;c("character",n)}}var se=class o{service=m(q);route=m(T);router=m(k);characters=[];search="";status="";gender="";selectedSpecies="";species=["Human","Alien","Humanoid","unknown","Poopybutthole","Mythological Creature","Animal","Robot","Cronenberg","Disease"];page=1;totalPages=0;ngOnInit(){this.route.queryParamMap.subscribe(t=>{let{search:n,status:e,gender:r,species:p,page:C}=this.extractQueryParams(t);this.search=n,this.status=e,this.gender=r,this.selectedSpecies=p,this.page=Number(C),this.getAllCharacters(this.page)})}getAllCharacters(t){this.service.GetAllCharacters(t,{search:this.search,status:this.status,gender:this.gender,species:this.selectedSpecies}).subscribe(n=>{this.characters=n.results,this.totalPages=n.info.pages})}applyFilters(){this.router.navigate(["/characters"],{queryParams:{search:this.search,status:this.status,gender:this.gender,species:this.selectedSpecies,page:this.page}})}extractQueryParams(t){return{search:t.get("search")??"",status:t.get("status")??"",gender:t.get("gender")??"",species:t.get("species")??"",page:t.get("page")??"1"}}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=h({type:o,selectors:[["app-character-listing"]],decls:43,vars:5,consts:[[1,"container"],[1,"wrapper-searchs"],["type","text","name","search-character","id","search","placeholder","Search",1,"search-input",3,"ngModelChange","ngModel"],["for","search"],["name","status","id","status",3,"ngModelChange","ngModel"],["value","","selected",""],["value","alive"],["value","dead"],["value","unknown"],["for","status"],["name","gender","id","gender",3,"ngModelChange","ngModel"],["value","female"],["value","male"],["for","gender"],["name","species","id","species",3,"ngModelChange","change","ngModel"],[3,"value"],["for","species"],[1,"wrapper-cards"],[3,"character"],["navigateTo","/characters",3,"totalPages"]],template:function(n,e){n&1&&(i(0,"div",0)(1,"form")(2,"div",1)(3,"input",2),M("ngModelChange",function(p){return y(e.search,p)||(e.search=p),p}),g("ngModelChange",function(){return e.applyFilters()}),a(),i(4,"label",3),l(5,"Search by name"),a()(),i(6,"div",1)(7,"select",4),M("ngModelChange",function(p){return y(e.status,p)||(e.status=p),p}),g("ngModelChange",function(){return e.applyFilters()}),i(8,"option",5),l(9,"Status"),a(),i(10,"option",6),l(11,"Alive"),a(),i(12,"option",7),l(13,"Dead"),a(),i(14,"option",8),l(15,"Unknown"),a()(),i(16,"label",9),l(17,"Search by status"),a()(),i(18,"div",1)(19,"select",10),M("ngModelChange",function(p){return y(e.gender,p)||(e.gender=p),p}),g("ngModelChange",function(){return e.applyFilters()}),i(20,"option",5),l(21,"Gender"),a(),i(22,"option",11),l(23,"Female"),a(),i(24,"option",12),l(25,"Male"),a(),i(26,"option",8),l(27,"Unknown"),a()(),i(28,"label",13),l(29,"Search by gender"),a()(),i(30,"div",1)(31,"select",14),M("ngModelChange",function(p){return y(e.selectedSpecies,p)||(e.selectedSpecies=p),p}),g("change",function(){return e.applyFilters()}),i(32,"option",5),l(33,"Species"),a(),v(34,ue,2,2,"option",15,w),a(),i(36,"label",16),l(37,"Search by species"),a()()(),i(38,"div",17),v(39,he,1,1,"app-cards",18,me),a(),d(41,"app-pagination",19),a(),d(42,"app-footer")),n&2&&(s(3),P("ngModel",e.search),s(4),P("ngModel",e.status),s(12),P("ngModel",e.gender),s(12),P("ngModel",e.selectedSpecies),s(3),x(e.species),s(5),x(e.characters),s(2),c("totalPages",e.totalPages))},dependencies:[z,O,J,ae,ee,ne,ie,K,te,X,Y,$,Z],styles:[".container[_ngcontent-%COMP%]{height:auto;min-height:calc(100dvh - 88px);padding-top:72px;background:var(--background);color:var(--text-title)}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px;padding:32px 32px 0;width:100%}@media screen and (min-width: 1675px){form[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(435px,1fr))}}.wrapper-searchs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.wrapper-searchs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:var(--text-body)}.search-input[_ngcontent-%COMP%]{width:100%;padding:16px;color:var(--text-body);font-size:1.125rem;border-radius:6px;background:var(--shape);border:1px solid var(--border);-webkit-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);-moz-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);box-shadow:0 6px 30px #25252999}.search-input[_ngcontent-%COMP%]:focus{outline:1px solid var(--red)}select[_ngcontent-%COMP%]{width:100%;padding:16px;color:var(--text-body);font-size:1.125rem;border-radius:6px;background:var(--shape);border:1px solid var(--border);-webkit-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);-moz-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);box-shadow:0 6px 30px #25252999}select[_ngcontent-%COMP%]:focus{outline:1px solid var(--red)}.wrapper-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(500px,1fr));padding:32px;gap:24px}@media screen and (max-width: 600px){.wrapper-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}@media screen and (max-width: 386px){.wrapper-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}}app-cards[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};export{se as CharacterListingComponent};
