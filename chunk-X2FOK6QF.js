import{a as ne,b as O,c as ie,d as ae,f as oe,g as D}from"./chunk-TTGH2JUF.js";import{a as Q,b as U,c as J,d as K,e as X,f as Y,g as Z,h as I,i as V,j as $,l as ee,m as te}from"./chunk-MWJF7WAS.js";import{e as F,g as E}from"./chunk-2PXOE6WT.js";import{h as G,i as H}from"./chunk-GGAWMXZ6.js";import{$ as b,$a as B,Ba as C,Ga as h,La as S,Ma as T,Oa as c,Qa as R,Ra as L,Sa as v,T as u,Ta as P,Ua as a,Va as o,Wa as d,Xa as k,Ya as g,Za as m,_ as x,_a as W,bb as l,cb as j,db as z,fb as y,gb as M,ha as _,hb as w,jb as q,ta as s}from"./chunk-O5P3GJJY.js";var le=["*"],ce=i=>({active:i}),N=class i{chevronRight=O;disabled=_(!1);isActive=_(!1);static \u0275fac=function(n){return new(n||i)};static \u0275cmp=C({type:i,selectors:[["app-icon-button"]],inputs:{disabled:[1,"disabled"],isActive:[1,"isActive"]},ngContentSelectors:le,decls:2,vars:4,consts:[[3,"disabled","ngClass"]],template:function(n,e){n&1&&(W(),a(0,"button",0),B(1,0,["#icon",""]),o()),n&2&&c("disabled",e.disabled())("ngClass",q(2,ce,e.isActive()))},dependencies:[D,H,G],styles:["button[_ngcontent-%COMP%]{width:38px;height:38px;outline:nones;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:4px;color:var(--text-title);background-color:var(--shape);border:1px solid var(--border);-webkit-box-shadow:0px 6px 20px 0px rgba(37,37,41,.4);-moz-box-shadow:0px 6px 20px 0px rgba(37,37,41,.4);box-shadow:0 6px 20px #25252966;transition:all .7s}button[_ngcontent-%COMP%]:focus{outline:1px solid var(--red)}button[_ngcontent-%COMP%]:hover{filter:brightness(.7)}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;filter:brightness(.6)}button.active[_ngcontent-%COMP%]{background-color:var(--background);color:var(--text-title);filter:brightness(.7);cursor:auto}"]})};function ge(i,t){if(i&1){let n=k();a(0,"app-icon-button",5),g("click",function(){x(n);let r=m();return b(r.goToPreviousRange())}),l(1," ... "),o()}}function de(i,t){if(i&1){let n=k();a(0,"app-icon-button",6),g("click",function(){x(n);let r=m();return b(r.goToPreviousPage())})("click",function(){let r=x(n).$implicit,p=m();return b(p.goToPage(r))}),l(1),o()}if(i&2){let n=t.$implicit,e=m();c("isActive",n===e.page),s(),z(" ",n," ")}}function me(i,t){if(i&1){let n=k();a(0,"app-icon-button",5),g("click",function(){x(n);let r=m();return b(r.goToNextRange())}),l(1," ... "),o()}}var A=class i{chevronRight=O;chevronsRight=ae;chevronLeft=ne;chevronsLeft=ie;navigateTo=_.required();totalPages=_.required();page=1;search="";status="";gender="";selectedSpecies="";route=u(F);router=u(E);ngOnInit(){this.route.queryParamMap.subscribe(t=>{this.page=Number(t.get("page")??"1"),this.search=t.get("search")??"",this.status=t.get("status")??"",this.gender=t.get("gender")??"",this.selectedSpecies=t.get("species")??""})}goToPage(t){t>=1&&t<=this.totalPages()&&(this.page=t,this.router.navigate([this.navigateTo()],{queryParams:{search:this.search,page:this.page,status:this.status,gender:this.gender,species:this.selectedSpecies}}))}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages())}goToNextPage(){this.goToPage(this.page+1)}goToPreviousPage(){this.goToPage(this.page-1)}goToNextRange(){let n=Math.min(this.page+4,this.totalPages());this.goToPage(n)}goToPreviousRange(){let n=Math.max(this.page-4,1);this.goToPage(n)}getDisplayedPages(){let t=this.totalPages(),n=4,e=[],r=Math.max(1,this.page-Math.floor(n/2)),p=Math.min(t,r+n-1);for(let f=r;f<=p;f++)e.push(f);return e}showLeftEllipsis(){return this.page>4}showRightEllipsis(){return this.page+4-1<this.totalPages()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=C({type:i,selectors:[["app-pagination"]],inputs:{navigateTo:[1,"navigateTo"],totalPages:[1,"totalPages"]},decls:13,vars:10,consts:[[1,"container"],[3,"click","disabled"],[3,"name"],[1,"ellipsis"],[3,"isActive"],[1,"ellipsis",3,"click"],[3,"click","isActive"]],template:function(n,e){n&1&&(a(0,"div",0)(1,"app-icon-button",1),g("click",function(){return e.goToFirstPage()}),d(2,"lucide-icon",2),o(),a(3,"app-icon-button",1),g("click",function(){return e.goToPreviousPage()}),d(4,"lucide-icon",2),o(),h(5,ge,2,0,"app-icon-button",3),v(6,de,2,2,"app-icon-button",4,L),h(8,me,2,0,"app-icon-button",3),a(9,"app-icon-button",1),g("click",function(){return e.goToNextPage()}),d(10,"lucide-icon",2),o(),a(11,"app-icon-button",1),g("click",function(){return e.goToLastPage()}),d(12,"lucide-icon",2),o()()),n&2&&(s(),c("disabled",e.page===1),s(),c("name",e.chevronsLeft),s(),c("disabled",e.page===1),s(),c("name",e.chevronLeft),s(),R(e.showLeftEllipsis()?5:-1),s(),P(e.getDisplayedPages()),s(2),R(e.showRightEllipsis()?8:-1),s(),c("disabled",e.page===e.totalPages()),s(),c("name",e.chevronRight),s(),c("disabled",e.page===e.totalPages()),s(),c("name",e.chevronsRight))},dependencies:[N,D,oe],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:16px 32px}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}}"]})};var ue=(i,t)=>t.id,he=()=>[I,V],_e=()=>[import("./chunk-467ERQG5.js").then(i=>i.CardsComponent)],Ce=()=>[import("./chunk-7YXRO5LN.js").then(i=>i.NoItemsComponent)];function fe(i,t){if(i&1&&(a(0,"option",18),l(1),o()),i&2){let n=m().$implicit;c("value",n),s(),j(n)}}function xe(i,t){i&1&&(h(0,fe,2,2),S(1,0,he),T())}function be(i,t){if(i&1&&d(0,"app-cards",19),i&2){let n=m().$implicit;c("character",n)}}function ve(i,t){i&1&&(h(0,be,1,1),S(1,0,_e),T())}function Pe(i,t){i&1&&d(0,"app-no-items")}function ye(i,t){i&1&&(h(0,Pe,1,0),S(1,0,Ce),T())}var pe=class i{service=u(ee);route=u(F);router=u(E);characters=[];search="";status="";gender="";selectedSpecies="";species=["Human","Alien","Humanoid","unknown","Poopybutthole","Mythological Creature","Animal","Robot","Cronenberg","Disease"];page=1;totalPages=0;ngOnInit(){this.route.queryParamMap.subscribe(t=>{let{search:n,status:e,gender:r,species:p,page:f}=this.extractQueryParams(t);this.search=n,this.status=e,this.gender=r,this.selectedSpecies=p,this.page=Number(f),this.getAllCharacters(this.page)})}getAllCharacters(t){this.service.GetAllCharacters(t,{search:this.search,status:this.status,gender:this.gender,species:this.selectedSpecies}).subscribe(n=>{this.characters=n.results,this.totalPages=n.info.pages})}applyFilters(){this.router.navigate(["/characters"],{queryParams:{search:this.search,status:this.status,gender:this.gender,species:this.selectedSpecies,page:this.page}})}extractQueryParams(t){return{search:t.get("search")??"",status:t.get("status")??"",gender:t.get("gender")??"",species:t.get("species")??"",page:t.get("page")??"1"}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=C({type:i,selectors:[["app-character-listing"]],decls:46,vars:6,consts:[[1,"container"],[1,"wrapper-searchs"],["type","text","name","search-character","id","search","placeholder","Search",1,"search-input",3,"ngModelChange","ngModel"],["for","search"],["name","status","id","status",3,"ngModelChange","ngModel"],["value","","selected",""],["value","alive"],["value","dead"],["value","unknown"],["for","status"],["name","gender","id","gender",3,"ngModelChange","ngModel"],["value","female"],["value","male"],["for","gender"],["name","species","id","species",3,"ngModelChange","change","ngModel"],["for","species"],[1,"wrapper-cards"],["navigateTo","/characters",3,"totalPages"],[3,"value"],[3,"character"]],template:function(n,e){n&1&&(a(0,"div",0)(1,"h2"),l(2,"Characters"),o(),a(3,"form")(4,"div",1)(5,"input",2),w("ngModelChange",function(p){return M(e.search,p)||(e.search=p),p}),g("ngModelChange",function(){return e.applyFilters()}),o(),a(6,"label",3),l(7,"Search by name"),o()(),a(8,"div",1)(9,"select",4),w("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),g("ngModelChange",function(){return e.applyFilters()}),a(10,"option",5),l(11,"Status"),o(),a(12,"option",6),l(13,"Alive"),o(),a(14,"option",7),l(15,"Dead"),o(),a(16,"option",8),l(17,"Unknown"),o()(),a(18,"label",9),l(19,"Search by status"),o()(),a(20,"div",1)(21,"select",10),w("ngModelChange",function(p){return M(e.gender,p)||(e.gender=p),p}),g("ngModelChange",function(){return e.applyFilters()}),a(22,"option",5),l(23,"Gender"),o(),a(24,"option",11),l(25,"Female"),o(),a(26,"option",12),l(27,"Male"),o(),a(28,"option",8),l(29,"Unknown"),o()(),a(30,"label",13),l(31,"Search by gender"),o()(),a(32,"div",1)(33,"select",14),w("ngModelChange",function(p){return M(e.selectedSpecies,p)||(e.selectedSpecies=p),p}),g("change",function(){return e.applyFilters()}),a(34,"option",5),l(35,"Species"),o(),v(36,xe,3,0,null,null,L),o(),a(38,"label",15),l(39,"Search by species"),o()()(),a(40,"div",16),v(41,ve,3,0,null,null,ue,!1,ye,3,0),o()(),d(44,"app-pagination",17)(45,"app-footer")),n&2&&(s(5),y("ngModel",e.search),s(4),y("ngModel",e.status),s(12),y("ngModel",e.gender),s(12),y("ngModel",e.selectedSpecies),s(3),P(e.species),s(5),P(e.characters),s(3),c("totalPages",e.totalPages))},dependencies:[A,te,$,Y,I,V,Q,Z,U,J,X,K],styles:[".container[_ngcontent-%COMP%]{height:auto;min-height:calc(100dvh - 88px);padding-top:72px;background:var(--background);color:var(--text-title)}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:32px 32px 0;font-size:1.875rem}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px;padding:32px 32px 0;width:100%}@media screen and (min-width: 1675px){form[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(435px,1fr))}}.wrapper-searchs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.wrapper-searchs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:var(--text-body)}.search-input[_ngcontent-%COMP%]{width:100%;padding:16px;color:var(--text-body);font-size:1.125rem;border-radius:6px;background:var(--shape);border:1px solid var(--border);-webkit-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);-moz-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);box-shadow:0 6px 30px #25252999}.search-input[_ngcontent-%COMP%]:focus{outline:1px solid var(--red)}select[_ngcontent-%COMP%]{width:100%;padding:16px;color:var(--text-body);font-size:1.125rem;border-radius:6px;background:var(--shape);border:1px solid var(--border);-webkit-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);-moz-box-shadow:0px 6px 30px 0px rgba(37,37,41,.6);box-shadow:0 6px 30px #25252999}select[_ngcontent-%COMP%]:focus{outline:1px solid var(--red)}.wrapper-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(500px,1fr));padding:32px;gap:24px}@media screen and (max-width: 600px){.wrapper-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}@media screen and (max-width: 386px){.wrapper-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}}app-cards[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};export{pe as CharacterListingComponent};
